{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Releasaurs TOML Configuration Schema",
  "description": "Releasaurus TOML configuration.",
  "type": "object",
  "properties": {
    "first_release_search_depth": {
      "type": "number",
      "description": "Configures commit search depth for first release. After the first release releasaurus will always parse all the commits since the last release"
    },
    "separate_pull_requests": {
      "type": "boolean",
      "description": "Generates different release PRs for each package defined in config"
    },
    "prerelease": {
      "type": "string",
      "description": "Global prerelease identifier (e.g., \"alpha\", \"beta\", \"rc\"). Can be overridden per package or via CLI flag"
    },
    "breaking_always_increment_major": {
      "type": "boolean",
      "description": "Always increments major version on breaking commits (default: true)"
    },
    "features_always_increment_minor": {
      "type": "boolean",
      "description": "Always increments minor version on feature commits (default: true)"
    },
    "custom_major_increment_regex": {
      "type": "string",
      "description": "Custom commit type regex matcher to increment major version"
    },
    "custom_minor_increment_regex": {
      "type": "string",
      "description": "Custom commit type regex matcher to increment minor version"
    },
    "changelog": {
      "type": "object",
      "properties": {
        "body": {
          "type": "string",
          "description": "Tera template for generating changelog body"
        },
        "skip_ci": {
          "type": "boolean",
          "description": "Skips including \"ci\" commits in changelog"
        },
        "skip_chore": {
          "type": "boolean",
          "description": "Skips including \"chore\" commits in changelog"
        },
        "skip_miscellaneous": {
          "type": "boolean",
          "description": "Skips including miscellaneous commits in changelog. Miscellaneous commits are commits that do not conform to conventional commits standard"
        },
        "skip_merge_commits": {
          "type": "boolean",
          "description": "Skips including merge commits in changelog"
        },
        "skip_release_commits": {
          "type": "boolean",
          "description": "Skips including release commits in changelog"
        },
        "include_author": {
          "type": "boolean",
          "description": "Includes the author name for each commit in the generated changelog"
        }
      }
    },
    "packages": {
      "type": "array",
      "description": "A list of packages to generate releases for in this repository",
      "items": {
        "type": "object",
        "description": "package config",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the package"
          },
          "workspace_root": {
            "type": "string",
            "description": "The the root directory to use for this package. e.g. \"./packages\""
          },
          "path": {
            "type": "string",
            "description": "Path to the package directory relative to the workspace_root"
          },
          "release_type": {
            "type": "string",
            "description": "The release type to use when updating package version files",
            "enum": ["Generic", "Java", "Node", "Php", "Python", "Ruby", "Rust"]
          },
          "tag_prefix": {
            "type": "string",
            "description": "The tag prefix to use for this package: default (\"v\")"
          },
          "prerelease": {
            "type": "string",
            "description": "Prerelease identifier for this package (e.g., \"alpha\", \"beta\", \"rc\"). Overrides global prerelease setting"
          },
          "additional_paths": {
            "type": "array",
            "description": "Additional directory paths in repo to include commits from when calculating next release version and changelog updates",
            "items": {
              "type": "string",
              "description": "A directory path to include commits from when calculating release version and changelog updates for this package"
            }
          },
          "breaking_always_increment_major": {
            "type": "boolean",
            "description": "Always increments major version on breaking commits for this package. Overrides global setting"
          },
          "features_always_increment_minor": {
            "type": "boolean",
            "description": "Always increments minor version on feature commits for this package. Overrides global setting"
          },
          "custom_major_increment_regex": {
            "type": "string",
            "description": "Custom commit type regex matcher to increment major version for this package. Overrides global setting"
          },
          "custom_minor_increment_regex": {
            "type": "string",
            "description": "Custom commit type regex matcher to increment minor version for this package. Overrides global setting"
          }
        }
      }
    }
  }
}

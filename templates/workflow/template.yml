spec:
  component: [version]
  inputs:
    repo:
      description: The gitlab repo to affect
      default: $CI_PROJECT_URL
    token:
      description: The gitlab token to use. This token will need privileges to create MRs, tags, labels, and releases
    debug:
      description: Enables debug logs
      default: ""
    pr_job_stage:
      description: The stage in which to run the release-pr job
      default: .pre
    release_job_stage:
      description: The stage in which to run the release job
      default: .pre
---
include:
  - component: $CI_SERVER_FQDN/rgon/releasaurus/release-pr@$[[ component.version ]]
    inputs:
      repo: $[[ inputs.repo ]]
      debug: $[[ inputs.debug ]]
      token: $[[ inputs.token ]]
      job_stage: $[[ inputs.pr_job_stage ]]
  - component: $CI_SERVER_FQDN/rgon/releasaurus/release@$[[ component.version ]]
    inputs:
      repo: $[[ inputs.repo ]]
      debug: $[[ inputs.debug ]]
      token: $[[ inputs.token ]]
      job_stage: $[[ inputs.release_job_stage ]]
